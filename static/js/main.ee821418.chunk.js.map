{"version":3,"sources":["reportWebVitals.js","index.js","levels.js","simple-modal.js","assets/player.png","assets/princess.png","assets/orc.png","render-sequence.js","assets/grass.png","assets/rock.png","App.js","engine.js","loop-protect.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","App","document","getElementById","levels_config","design","forEach","level","height","length","width","SimpleModal","isModalOpen","closeModal","title","closeButton","children","className","onClick","type","style","transition","getFrames","row","size_x","size_y","count","frames","offset_y","i","push","getFramesAttack","Character","spritesheet","x","y","visibleDead","newAgent","ss","SpriteSheet","concat","animations","stand_u","stand_l","stand_d","stand_r","walk_u","walk_l","walk_d","walk_r","attack_u","attack_l","attack_d","attack_r","dead","death","victory","images","sprite","Sprite","direction","stepFailing","speed","walkDistance","turn","gotoAndPlay","isWaiting","currentAnimation","startsWith","turnLeft","turnRight","stepForward","stepFail","attack","tick","dist","Math","abs","move_x","min","move_y","replace","alpha","Obstacle","normal","coords","renderSequence","canvas","moves","stage","Stage","id","maxx","maxy","addChild","drawGrass","square","Shape","sdraw","graphics","beginFill","shouldDraw","drawRect","getGrid","agents","agentDict","container","created","charAt","HeroPng","HeroinePng","OrcPng","every","agent","getById","block","Agents","Ticker","reset","on","addEventListener","event","counter","shift","move","action","Error","update","mtheme","headerColorBg","headerColorBorder","levelBg","good","bad","goodHover","badHover","setupMonaco","monaco","obj","getType","thing","isMember","undefined","toLowerCase","languages","CompletionItemKind","Class","Method","Property","Variable","registerCompletionItemProvider","triggerCharacters","provideCompletionItems","model","position","token","words","getValueInRange","startLineNumber","lineNumber","startColumn","endLineNumber","endColumn","column","split","active_typing","is_member","result","last_token","prefix","parents","substring","hasOwnProperty","prop","details","__proto__","constructor","name","e","to_push","label","kind","detail","insertText","documentation","toString","suggestions","ShowAutocompletion","player","step","isNextToTarget","check","checkMap","target_x","target_y","initialCode","storage","getJsHeroCode","jsHeroCode","window","localStorage","getItem","setItem","setJsHeroCode","getCurrentLevel","currentLevel","setCurrentLevel","validator","code","severity","markers","strictCode","syntax","esprima","tolerant","loc","range","errors","message","description","LanguageSelection","languageOptions","onLanguageSelect","classNames","selected","unselected","map","option","JsHeroEditor","onCodeUpdate","useState","setCode","delayedUpdate","useCallback","debounce","handleValidation","monacoRef","useRef","editorRef","value","current","MarkerSeverity","editor","setModelMarkers","getModel","handleEditorChange","float","overflow","flex","overflowY","minHeight","defaultLanguage","defaultValue","onChange","theme","onMount","_domElement","beforeMount","LevelToggle","success","onToggle","classColor","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","cx","cy","r","d","x1","y1","x2","y2","LevelDisplay","config","canvasRef","useEffect","JSON","parse","stringify","StatusInfo","ref","display","alignContent","Levels","levelsState","updateLevelState","expandedLevelState","find","levelState","isExpanded","flexDirection","flexWrap","role","useSolutionFunc","solution","solutionFunc","_setSolutionFunc","func","answer","getMoves","Header","props","setModalOpen","href","failureMessage","setFailureMessage","setSolutionFunc","setLevelsState","modal","setModal","setLanguageOptions","levelClicked","allSuccess","newLevelsState","toggle_i","levelPassed","newLevelState","max","updateSolution","loopProtect","eval","language","LevelError","error","_map","north","south","east","west","mapThings","directionToCoords","checkValid","moving","monster","getMonster","left","right","_action","toUpperCase","tx","ty","lastMove","n","types","namedTypes","b","builders","protect","limit","errorMessage","path","node","random","before","program","body","inside","get","BlockStatement","blockStatement","insertBefore","unshift","this","traverse","t","visit","visitWhileStatement","visitForStatement","visitDoWhileStatement","visitForInStatement","visitForOfStatement","print"],"mappings":"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","file":"static/js/main.ee821418.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","const levels_config = [{\n    design: [\n        ['w', '-', '-'],\n        ['-', '-', '-'],\n        ['p', '-', '-']\n    ]\n}, {\n    design: [\n        ['-', '-', '-'],\n        ['-', '-', '-'],\n        ['p', '-', 'w']\n    ]\n}, {\n    design: [\n        ['w', '-', '-', '-', '-'],\n        ['-', '-', '-', '-', '-'],\n        ['-', '-', '-', '-', '-'],\n        ['-', '-', '-', '-', '-'],\n        ['p', '-', '-', '-', '-']\n    ]\n}, {\n    design: [\n        ['-', '-', '-', '-', '-'],\n        ['-', '-', '-', '-', '-'],\n        ['-', '-', 'w', '-', '-'],\n        ['-', '-', '-', '-', '-'],\n        ['p', '-', '-', '-', '-']\n    ]\n}, {\n    design: [\n        ['-', '-', '-', '-', 'w'],\n        ['-', '-', '-', '-', '-'],\n        ['-', '-', '-', '-', '-'],\n        ['-', '-', '-', '-', '-'],\n        ['p', '-', '-', '-', '-']\n    ]\n}, {\n    design: [\n        ['w', '-', '-', '-', '-'],\n        ['m0', '-', '-', '-', '-'],\n        ['-', '-', '-', '-', '-'],\n        ['p', '-', 'm1', '-', '-']\n    ]\n}, {\n    design: [\n        ['-', '-', '-', '-', '-', '-'],\n        ['-', '-', '-', '-', '-', '-'],\n        ['-', '-', '-', '-', '-', '-'],\n        ['p', '-', 'r', '-', '-', 'w']\n    ]\n}, {\n    design: [\n        ['w', '-', '-', 'm1', '-', '-'],\n        ['m0', '-', '-', '-', '-', '-'],\n        ['-', '-', '-', '-', '-', '-'],\n        ['r1', '-', '-', '-', '-', '-'],\n        ['p', '-', '-', '-', '-', '-']\n    ]\n}, {\n    design: [\n        ['-', '-', '-', 'r2', '-', 'w'],\n        ['-', '-', '-', '-', '-', '-'],\n        ['-', '-', 'r1', '-', '-', '-'],\n        ['r0', '-', '-', '-', '-', 'r3'],\n        ['p', '-', '-', '-', '-', '-']\n    ]\n}, {\n    design: [\n        ['-', '-', '-', '-', '-', 'm1', '-', 'w'],\n        ['m0', '-', '-', 'r0', '-', '-', '-', 'm2'],\n        ['-', '-', '-', '-', '-', '-', '-', '-'],\n        ['r1', '-', '-', 'r2', '-', '-', '-', 'r3'],\n        ['p', '-', '-', '-', 'm3', '-', '-', '-']\n    ]\n}, {\n    design: [\n        [\"-\", \"r3\", \"-\", \"m2\", \"-\"],\n        [\"-\", \"-\", \"-\", \"w\", \"-\"],\n        [\"-\", \"-\", \"-\", \"-\", \"-\"],\n        [\"m3\", \"-\", \"-\", \"-\", \"m1\"],\n        [\"-\", \"r2\", \"-\", \"r0\", \"-\"],\n        [\"-\", \"-\", \"-\", \"-\", \"-\"],\n        [\"-\", \"-\", \"-\", \"-\", \"-\"],\n        [\"p\", \"r1\", \"-\", \"m0\", \"-\"]\n    ]\n}, {\n    design: [\n        ['-', '-', '-', '-', 'm1', '-', '-', '-'],\n        ['m0', '-', '-', 'r0', '-', '-', 'w', 'm2'],\n        ['-', '-', '-', '-', '-', '-', '-', '-'],\n        ['r1', '-', '-', 'r2', '-', '-', '-', 'r3'],\n        ['p', '-', '-', '-', 'm3', '-', '-', '-']\n    ]\n}, {\n    design: [\n        [\"-\", \"-\", \"-\", \"-\", \"-\", \"m4\", \"-\", \"-\"],\n        [\"-\", \"-\", \"-\", \"r2\", \"-\", \"-\", \"w\", \"-\"],\n        [\"m3\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"m2\"],\n        [\"-\", \"-\", \"-\", \"r0\", \"-\", \"-\", \"r1\", \"-\"],\n        [\"p\", \"r1\", \"-\", \"m0\", \"-\", \"m1\", \"-\", \"-\"]\n    ]\n}, {\n    design: [\n        ['-', '-', '-', '-', '-', 'm1', '-', '-'],\n        ['m0', '-', '-', 'r0', '-', '-', '-', 'm2'],\n        ['-', '-', '-', '-', '-', '-', 'w', '-'],\n        ['r1', '-', '-', 'r2', '-', '-', '-', 'r3'],\n        ['p', '-', '-', '-', 'm3', '-', '-', '-']\n    ]\n}, {\n    design: [\n        ['-', '-', '-', '-', '-', '-', '-', '-'],\n        ['m0', '-', '-', 'r0', '-', 'm1', '-', 'm2'],\n        ['-', '-', '-', '-', '-', '-', 'w', '-'],\n        ['r1', '-', '-', '-', '-', '-', '-', 'r3'],\n        ['p', '-', '-', 'r2', 'm3', '-', '-', '-']\n    ]\n}, {\n    design: [\n        ['-', '-', '-', '-', '-', '-'],\n        ['-', 'r0', '-', '-', '-', '-'],\n        ['-', 'r1', '-', 'w', '-', '-'],\n        ['-', 'r2', '-', '-', '-', '-'],\n        ['-', '-', 'r3', 'r4', 'r5', '-'],\n        ['p', '-', '-', '-', '-', '-']\n    ]\n}, {\n    design: [\n        ['p', '-', '-', '-', '-', '-'],\n        ['-', '-', 'r3', 'r4', 'r5', '-'],\n        ['-', 'r0', '-', '-', '-', '-'],\n        ['-', 'r1', '-', 'w', '-', '-'],\n        ['-', 'r2', '-', '-', '-', '-'],\n        ['-', '-', '-', '-', '-', '-']\n    ]\n}];\n\nlevels_config.forEach(level => {\n    level.height = level.design.length * 64;\n    level.width = level.design[0].length * 64;\n})\n\nexport default levels_config;","export function SimpleModal({ isModalOpen, closeModal, title, closeButton, children }) {\n    if (!isModalOpen) {\n        return null;\n    }\n\n    return (<div\n        className=\"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none\"\n        onClick={closeModal}\n    >\n        <div className=\"relative w-auto my-6 mx-auto max-w-3xl\">\n            {/*content*/}\n            <div className=\"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none\">\n                {/*header*/}\n                <div className=\"flex items-start justify-between p-5 border-b border-solid border-gray-300 rounded-t\">\n                    <h3 className=\"text-3xl font-semibold\">\n                        {title}\n                    </h3>\n                    <button\n                        className=\"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none\"\n                        onClick={closeModal}\n                    >\n                        <span className=\"bg-transparent text-black opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none\">\n                            Ã—\n                        </span>\n                    </button>\n                </div>\n                {/*body*/}\n                <div className=\"relative p-6 flex-auto\">\n                    {children}\n                </div>\n                {/*footer*/}\n                <div className=\"flex items-center justify-end p-6 border-t border-solid border-gray-300 rounded-b\">\n                    <button\n                        className=\"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1\"\n                        type=\"button\"\n                        style={{ transition: \"all .15s ease\" }}\n                        onClick={closeModal}\n                    >\n                        {closeButton}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div >);\n}\n\nexport default SimpleModal;","export default __webpack_public_path__ + \"static/media/player.1eb2ce02.png\";","export default __webpack_public_path__ + \"static/media/princess.3590a125.png\";","export default __webpack_public_path__ + \"static/media/orc.47ce91db.png\";","import { Sprite, SpriteSheet, Ticker, Stage, Shape } from \"@createjs/easeljs\";\nimport GrassPng from \"./assets/grass.png\";\nimport HeroPng from \"./assets/player.png\";\nimport HeroinePng from \"./assets/princess.png\";\nimport OrcPng from \"./assets/orc.png\";\nimport RockPng from \"./assets/rock.png\";\n\nfunction getFrames(row, size_x, size_y, count,) {\n    var frames = [];\n    var offset_y = row * 64;\n    for (var i = 0; i < count; i++) {\n        frames.push([size_x * i, offset_y, size_x, size_y]);\n    }\n    return frames;\n}\n\nfunction getFramesAttack(row, size_x, size_y, count) {\n    var frames = [];\n    var offset_y = (21 * 64) + (row * 192);\n    for (var i = 0; i < count; i++) {\n        frames.push([size_x * i, offset_y, size_x, size_y, 0, 64, 64]);\n    }\n    return frames;\n}\n\nfunction Character(spritesheet, x, y, visibleDead) {\n    var newAgent = {};\n    var ss = new SpriteSheet({\n        frames: getFrames(8, 64, 64, 9)\n            .concat(getFrames(9, 64, 64, 9))\n            .concat(getFrames(10, 64, 64, 9))\n            .concat(getFrames(11, 64, 64, 9))\n            .concat(getFramesAttack(0, 192, 192, 6))\n            .concat(getFramesAttack(1, 192, 192, 6))\n            .concat(getFramesAttack(2, 192, 192, 6))\n            .concat(getFramesAttack(3, 192, 192, 6))\n            .concat(getFrames(20, 64, 64, 6))\n            .concat(getFrames(2, 64, 64, 7)),\n        animations: {\n            stand_u: 0,\n            stand_l: 9,\n            stand_d: 18,\n            stand_r: 27,\n            walk_u: [0, 8, \"walk_u\", 0.5],\n            walk_l: [9, 17, \"walk_l\", 0.5],\n            walk_d: [18, 26, \"walk_d\", 0.5],\n            walk_r: [27, 35, \"walk_r\", 0.5],\n            attack_u: [36, 41, \"stand_u\", 0.5],\n            attack_l: [42, 47, \"stand_l\", 0.5],\n            attack_d: [48, 53, \"stand_d\", 0.5],\n            attack_r: [54, 59, \"stand_r\", 0.5],\n            dead: 65,\n            death: [60, 65, \"dead\"],\n            victory: [66, 72, \"victory\", 0.2]\n        },\n        images: [spritesheet]\n    });\n    var sprite = new Sprite(ss, \"stand_d\");\n    sprite.x = x;\n    sprite.y = y;\n    newAgent.x = x;\n    newAgent.y = y;\n    var direction = 270;\n    newAgent.sprite = sprite;\n    newAgent.stepFailing = false;\n    newAgent.speed = 6;\n    newAgent.walkDistance = 64;\n\n    var turn = () => {\n        if (direction < 0) {\n            direction = 270;\n        }\n        if (direction > 270) {\n            direction = 0;\n        }\n\n        switch (direction) {\n            case 0: sprite.gotoAndPlay(\"stand_r\"); break;\n            case 90: sprite.gotoAndPlay(\"stand_u\"); break;\n            case 180: sprite.gotoAndPlay(\"stand_l\"); break;\n            default: sprite.gotoAndPlay(\"stand_d\"); break;\n        }\n    };\n\n    newAgent.isWaiting = () => {\n        return sprite.currentAnimation.startsWith(\"stand\") || sprite.currentAnimation.startsWith(\"dea\");\n    }\n\n    newAgent.turnLeft = () => {\n        if (newAgent.isWaiting()) {\n            direction += 90;\n            turn();\n        }\n    };\n\n    newAgent.turnRight = () => {\n        if (newAgent.isWaiting()) {\n            direction -= 90;\n            turn();\n        }\n    };\n\n    newAgent.stepForward = () => {\n        if (newAgent.isWaiting()) {\n            switch (direction) {\n                case 0:\n                    sprite.gotoAndPlay(\"walk_r\");\n                    newAgent.x += newAgent.walkDistance;\n                    break;\n                case 90:\n                    sprite.gotoAndPlay(\"walk_u\");\n                    newAgent.y -= newAgent.walkDistance;\n                    break;\n                case 180:\n                    sprite.gotoAndPlay(\"walk_l\");\n                    newAgent.x -= newAgent.walkDistance;\n                    break;\n                default:\n                    sprite.gotoAndPlay(\"walk_d\");\n                    newAgent.y += newAgent.walkDistance;\n                    break;\n            }\n        }\n    };\n\n    newAgent.stepFail = () => {\n        if (newAgent.isWaiting()) {\n            newAgent.stepFailing = true;\n            newAgent.stepForward()\n        }\n    };\n\n    newAgent.attack = () => {\n        if (newAgent.isWaiting()) {\n            switch (direction) {\n                case 0: sprite.gotoAndPlay(\"attack_r\"); break;\n                case 90: sprite.gotoAndPlay(\"attack_u\"); break;\n                case 180: sprite.gotoAndPlay(\"attack_l\"); break;\n                default: sprite.gotoAndPlay(\"attack_d\"); break;\n            }\n        }\n    };\n\n    newAgent.death = () => {\n        if (!sprite.currentAnimation.startsWith(\"dea\")) {\n            sprite.gotoAndPlay(\"death\");\n        }\n    };\n\n    newAgent.victory = () => {\n        sprite.gotoAndPlay(\"victory\");\n    };\n\n    newAgent.tick = () => {\n        function dist() {\n            return { x: Math.abs(sprite.x - newAgent.x), y: Math.abs(sprite.y - newAgent.y) };\n        }\n        if (newAgent.stepFailing && dist().x < newAgent.walkDistance / 2 &&\n            dist().y < newAgent.walkDistance / 2) {\n            newAgent.stepFailing = false;\n            if (sprite.x < newAgent.x) {\n                newAgent.x -= newAgent.walkDistance;\n            } else if (sprite.x > newAgent.x) {\n                newAgent.x += newAgent.walkDistance;\n            }\n\n            if (sprite.y < newAgent.y) {\n                newAgent.y -= newAgent.walkDistance;\n            } else if (sprite.y > newAgent.y) {\n                newAgent.y += newAgent.walkDistance;\n            }\n        }\n        if (sprite.x !== newAgent.x) {\n            var move_x = Math.min(newAgent.speed, dist().x);\n            sprite.x += sprite.x > newAgent.x ? move_x * -1 : move_x;\n        }\n        if (sprite.y !== newAgent.y) {\n            var move_y = Math.min(newAgent.speed, dist().y);\n            sprite.y += sprite.y > newAgent.y ? move_y * -1 : move_y;;\n        }\n\n        if (sprite.currentAnimation.startsWith(\"walk\") &&\n            sprite.x === newAgent.x && sprite.y === newAgent.y) {\n            sprite.gotoAndPlay(sprite.currentAnimation.replace(\"walk\", \"stand\"));\n        }\n\n        if (!visibleDead && sprite.currentAnimation === \"dead\" && sprite.alpha > 0) {\n            sprite.alpha -= 0.1;\n        }\n    }\n\n    return newAgent;\n}\n\nfunction Obstacle(spritesheet, x, y) {\n    var newAgent = {};\n    var ss = new SpriteSheet({\n        frames: getFrames(0, 64, 64, 1),\n        animations: {\n            normal: 0\n        },\n        images: [spritesheet]\n    });\n    var sprite = new Sprite(ss, \"normal\");\n    sprite.x = x;\n    sprite.y = y;\n    newAgent.sprite = sprite;\n    newAgent.isWaiting = () => {\n        return true;\n    }\n\n    newAgent.coords = () => {\n        return { x: sprite.x, y: sprite.y };\n    };\n\n    newAgent.tick = () => {\n    }\n    return newAgent;\n}\n\nfunction drawGrass(maxx, maxy, stage) {\n    var ss = new SpriteSheet({\n        frames: getFrames(0, 64, 64, 1),\n        animations: {\n            normal: 0\n        },\n        images: [GrassPng]\n    });\n\n    for (var y = 0; y < maxy; y += 64) {\n        for (var x = 0; x < maxx; x += 64) {\n            var sprite = new Sprite(ss, \"normal\");\n            sprite.x = x;\n            sprite.y = y;\n            stage.addChild(sprite);\n        }\n    }\n}\n\nfunction getGrid(width, height) {\n    var square = new Shape();\n    var sdraw = square.graphics\n        .beginFill(\"white\");\n    square.alpha = 0.5;\n\n    for (var y = 0; y < height; y += 64) {\n        var offset = y % 128;\n        var shouldDraw = true;\n        for (var x = offset; x < width; x += 64) {\n            if (shouldDraw) {\n                sdraw = sdraw.drawRect(x, y, 64, 64);\n                shouldDraw = false;\n            } else {\n                shouldDraw = true;\n            }\n        }\n    }\n    return square;\n}\n\nfunction Agents(design) {\n    var agentDict = {};\n    var agents = [];\n    var container = {};\n\n    for (var y = 0; y < design.length; y++) {\n        for (var x = 0; x < design[y].length; x++) {\n            var id = design[y][x];\n            if (!!id) {\n                var type = id.charAt(0);\n                var created = null;\n                switch (type) {\n                    case 'p': created = Character(HeroPng, x * 64, y * 64, true); break;\n                    case 'r': created = Obstacle(RockPng, x * 64, y * 64); break;\n                    case 'w': created = Character(HeroinePng, x * 64, y * 64); break;\n                    case 'm': created = Character(OrcPng, x * 64, y * 64); break;\n                    default: break;\n                }\n\n                if (!!created) {\n                    agents.push(created);\n                    agentDict[id] = created;\n                }\n            }\n        }\n    }\n\n    container.isWaiting = () => agents.every(agent => agent.isWaiting())\n    container.tick = () => { agents.forEach(agent => agent.tick()) }\n    container.getById = (id) => agentDict[id]\n    container.forEach = (block) => { agents.forEach(block) }\n    return container;\n}\n\nexport function renderSequence(canvas, level, moves) {\n    if (!canvas) {\n        return;\n    }\n\n    var stage = new Stage(canvas.id);\n\n    canvas.width = level.width;\n    canvas.height = level.height;\n\n    drawGrass(level.width, level.height, stage);\n    stage.addChild(getGrid(level.width, level.height));\n\n    var agents = Agents(level.design);\n    agents.forEach(agent => {\n        stage.addChild(agent.sprite);\n    });\n\n    Ticker.reset();\n    Ticker.on(\"tick\", stage);\n    Ticker.addEventListener(\"tick\", handleTick);\n\n    var delayBetweenMoves = 6;\n    var counter = delayBetweenMoves;\n\n    function handleTick(event) {\n        agents.tick();\n        if (agents.isWaiting() && counter === 0 && moves.length > 0) {\n            var batchedMoves = moves.shift();\n            batchedMoves.forEach(move => {\n                var { id, action } = move;\n                var agent = agents.getById(id);\n                if (!agent) {\n                    throw new Error(\"Element not found in agents at coords (id: \" + id + \")\");\n                }\n\n                switch (action) {\n                    case \"turn_l\": agent.turnLeft(); break;\n                    case \"turn_r\": agent.turnRight(); break;\n                    case \"step\": agent.stepForward(); break;\n                    case \"step_f\": agent.stepFail(); break;\n                    case \"attack\": agent.attack(); break;\n                    case \"win\": agent.victory(); break;\n                    case \"die\": agent.death(); break;\n                    default: agents.getById('p').death(); break;\n                }\n            })\n            counter = delayBetweenMoves;\n        }\n        stage.update();\n        if (agents.isWaiting() && counter > 0) {\n            counter -= 1;\n        }\n    }\n}\n\nexport default renderSequence;","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import { renderSequence } from './render-sequence';\nimport { useState, useEffect, useRef, useCallback } from 'react';\nimport levels_config from './levels';\nimport { getMoves } from './engine';\nimport Editor from \"@monaco-editor/react\";\nimport * as esprima from \"esprima\";\nimport debounce from 'lodash/debounce';\nimport loopProtect from './loop-protect';\nimport SimpleModal from './simple-modal';\n\nconst mtheme = {\n  headerColorBg: \"bg-regal-blue\",\n  headerColorBorder: \"border-regal-blue\",\n  levelBg: \"bg-indigo-50\",\n  good: \"bg-green-500\",\n  bad: \"bg-red-500\",\n  goodHover: \"hover:bg-green-700\",\n  badHover: \"hover:bg-red-700\"\n}\n\n\nfunction setupMonaco(monaco) {\n  function ShowAutocompletion(obj) {\n    // Helper function to return the monaco completion item type of a thing\n    function getType(thing, isMember) {\n      isMember = (isMember == undefined) ? (typeof isMember == \"boolean\") ? isMember : false : false; // Give isMember a default value of false\n\n      switch ((typeof thing).toLowerCase()) {\n        case \"object\":\n          return monaco.languages.CompletionItemKind.Class;\n\n        case \"function\":\n          return (isMember) ? monaco.languages.CompletionItemKind.Method : monaco.languages.CompletionItemKind.Function;\n\n        default:\n          return (isMember) ? monaco.languages.CompletionItemKind.Property : monaco.languages.CompletionItemKind.Variable;\n      }\n    }\n\n    // Register object that will return autocomplete items \n    monaco.languages.registerCompletionItemProvider('javascript', {\n      // Run this function when the period or open parenthesis is typed (and anything after a space)\n      triggerCharacters: ['.', '('],\n\n      // Function to generate autocompletion results\n      provideCompletionItems: function (model, position, token) {\n        // Split everything the user has typed on the current line up at each space, and only look at the last word\n        var last_chars = model.getValueInRange({ startLineNumber: position.lineNumber, startColumn: 0, endLineNumber: position.lineNumber, endColumn: position.column });\n        var words = last_chars.replace(\"\\t\", \"\").split(\" \");\n        var active_typing = words[words.length - 1]; // What the user is currently typing (everything after the last space)\n\n        // If the last character typed is a period then we need to look at member objects of the obj object \n        var is_member = active_typing.charAt(active_typing.length - 1) == \".\";\n\n        // Array of autocompletion results\n        var result = [];\n\n        // Used for generic handling between member and non-member objects\n        var last_token = obj;\n        var prefix = '';\n\n        if (is_member) {\n          // Is a member, get a list of all members, and the prefix\n          var parents = active_typing.substring(0, active_typing.length - 1).split(\".\");\n          last_token = obj[parents[0]];\n          prefix = parents[0];\n\n          // Loop through all the parents the current one will have (to generate prefix)\n          for (var i = 1; i < parents.length; i++) {\n            if (last_token.hasOwnProperty(parents[i])) {\n              prefix += '.' + parents[i];\n              last_token = last_token[parents[i]];\n            } else {\n              // Not valid\n              return result;\n            }\n          }\n\n          prefix += '.';\n        }\n\n        // Get all the child properties of the last token\n        for (var prop in last_token) {\n          // Do not show properites that begin with \"__\"\n          if (last_token.hasOwnProperty(prop) && !prop.startsWith(\"__\")) {\n            // Get the detail type (try-catch) incase object does not have prototype \n            var details = '';\n            try {\n              details = last_token[prop].__proto__.constructor.name;\n            } catch (e) {\n              details = typeof last_token[prop];\n            }\n\n            // Create completion object\n            var to_push = {\n              label: prefix + prop,\n              kind: getType(last_token[prop], is_member),\n              detail: details,\n              insertText: prop\n            };\n\n            // Change insertText and documentation for functions\n            if (to_push.detail.toLowerCase() == 'function') {\n              to_push.insertText += \"()\";\n              to_push.documentation = (last_token[prop].toString()).split(\"{\")[0]; // Show function prototype in the documentation popup\n            }\n\n            // Add to final results\n            result.push(to_push);\n          }\n        }\n\n        return {\n          suggestions: result\n        };\n      }\n    });\n  }\n\n  ShowAutocompletion({\n    player: {\n      turnLeft: function turnLeft() { },\n      turnRight: function turnRight() { },\n      step: function step() { },\n      attack: function attack() { },\n      isNextToTarget: function isNextToTarget() { },\n      check: function check(action) { },\n      checkMap: function checkMap(x, y) { },\n      x: 0, y: 0, direction: \"NORTH\", target_x: 0, target_y: 0\n    }\n  });\n}\n\nconst initialCode = `\n/**\n * player supports the following API\n *      - Functions\n *          - turnLeft()\n *          - turnRight()\n *          - step()\n *          - attack()\n *          - isNextToTarget(): tells you if you are in a winning position\n *          - check(action): Tells you what is at the action you want to check\n *              Argument action: Has to be 'LEFT', 'RIGHT' or 'STEP'\n *              Returns: \"MONSTER\", \"TARGET\", \"ROCK\", \"NOTHING\" or \"ERROR\"\n *          - checkMap(x, y): check the thing that is at coordinates x and y\n *              Returns: \"MONSTER\", \"PLAYER\", \"TARGET\", \"ROCK\", \"NOTHING\" or \"ERROR\"\n *      - Properties (variables in player)\n *          - x: number\n *          - y: number\n *          - direction: \"NORTH\" or \"SOUTH\" or \"EAST\" or \"WEST\"\n *          - target_x\n *          - target_y\n * \n * @param {*} player \n */\nfunction solution(player) {\n    // Add code here\n}\n`\n\nconst storage = {\n  getJsHeroCode: () => {\n    const jsHeroCode = window.localStorage.getItem('jsHeroCode');\n    if (!jsHeroCode) {\n      window.localStorage.setItem('jsHeroCode', initialCode);\n      return initialCode;\n    }\n    return jsHeroCode;\n\n  },\n  setJsHeroCode: (jsHeroCode) => {\n    window.localStorage.setItem('jsHeroCode', jsHeroCode);\n  },\n  getCurrentLevel: () => {\n    const currentLevel = window.localStorage.getItem('currentLevel');\n    if (!currentLevel) {\n      window.localStorage.setItem('currentLevel', 1);\n      return 1;\n    }\n    return currentLevel;\n  },\n  setCurrentLevel: (level) => {\n    window.localStorage.setItem('currentLevel', level);\n  }\n}\n\nfunction validator(code, severity) {\n  var markers = [];\n  try {\n    const strictCode = \"'use strict';\" + code;\n    var syntax = esprima.parse(strictCode, { tolerant: true, loc: true, range: true });\n    if (syntax.errors.length > 0) {\n      for (var i = 0; i < syntax.errors.length; ++i) {\n        var e = syntax.errors[i];\n        markers.push({\n          severity: severity,\n          startLineNumber: e.lineNumber,\n          startColumn: e.column,\n          endLineNumber: e.lineNumber,\n          endColumn: e.column,\n          message: e.description\n        });\n      }\n    }\n  } catch (e) {\n    markers.push({\n      severity: severity,\n      startLineNumber: e.lineNumber,\n      startColumn: e.column,\n      endLineNumber: e.lineNumber,\n      endColumn: e.column,\n      message: e.toString()\n    });\n  }\n  return markers;\n}\n\nfunction LanguageSelection({ languageOptions, onLanguageSelect }) {\n\n  const classNames = {\n    selected: `px-2 border-r ${mtheme.headerColorBorder} mtk8`,\n    unselected: `px-2 border-b-2 border-l border-r ${mtheme.headerColorBorder} mtk1`\n  }\n  return (\n    <div className=\"text-sm text-white float-left monaco-editor-background\">\n      {languageOptions.map(option => (\n        <button\n          onClick={() => { onLanguageSelect(option.name) }}\n          className={option.selected ? classNames.selected : classNames.unselected}>\n          {option.name}\n        </button>\n      ))}\n    </div>\n  )\n}\n\nfunction JsHeroEditor({ onCodeUpdate, languageOptions, onLanguageSelect }) {\n  const [code, setCode] = useState(storage.getJsHeroCode());\n  const delayedUpdate = useCallback(debounce((code, update) => handleValidation(code, update), 750), []);\n  const monacoRef = useRef(null);\n  const editorRef = useRef(null);\n\n  const handleEditorWillMount = (monaco) => {\n    setupMonaco(monaco);\n  }\n\n  const handleEditorDidMount = (editor, monaco) => {\n    editor._domElement.id = \"code-editor\";\n    editorRef.current = editor;\n    monacoRef.current = monaco;\n    handleEditorChange(code);\n  }\n\n  const handleValidation = (value, update) => {\n    const markers = validator(value, monacoRef.current.MarkerSeverity.Error);\n    if (markers.length == 0) {\n      update(value);\n    } else {\n      update(initialCode);\n    }\n    monacoRef.current.editor.setModelMarkers(editorRef.current.getModel(), \"code-editor\", markers);\n  }\n\n  const handleEditorChange = (value) => {\n    setCode(value);\n    storage.setJsHeroCode(value);\n    delayedUpdate(value, onCodeUpdate);\n  }\n\n  return (\n    <div style={{\n      float: \"left\",\n      width: \"50%\",\n      overflow: \"scroll\",\n      flex: \"1 1 auto\",\n      overflowY: \"auto\",\n      minHeight: \"100px\"\n    }} className={`${mtheme.headerColorBg}`} >\n      <LanguageSelection languageOptions={languageOptions} onLanguageSelect={onLanguageSelect} />\n      <Editor\n        height=\"100vh\"\n        defaultLanguage=\"javascript\"\n        defaultValue={code}\n        onChange={handleEditorChange}\n        theme=\"vs-dark\"\n        onMount={handleEditorDidMount}\n\n        beforeMount={handleEditorWillMount}\n      />\n    </div >\n  );\n}\n\nfunction LevelToggle({ name, success, onToggle }) {\n  const classColor = success ? `${mtheme.good} ${mtheme.goodHover} text-white` : `${mtheme.bad} ${mtheme.badHover} text-white`;\n  return (\n    <button onClick={onToggle} className={classColor + \" font-bold my-1 mx-2 py-1 px-2 w-28 rounded inline-flex justify-center\"}>\n      <span className=\"px-1\" >Level {name}</span>\n      {\n        success\n          ? <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"px-1 feather feather-smile\"><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><path d=\"M8 14s1.5 2 4 2 4-2 4-2\"></path><line x1=\"9\" y1=\"9\" x2=\"9.01\" y2=\"9\"></line><line x1=\"15\" y1=\"9\" x2=\"15.01\" y2=\"9\"></line></svg>\n          : <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"px-1 feather feather-frown\"><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><path d=\"M16 16s-1.5-2-4-2-4 2-4 2\"></path><line x1=\"9\" y1=\"9\" x2=\"9.01\" y2=\"9\"></line><line x1=\"15\" y1=\"9\" x2=\"15.01\" y2=\"9\"></line></svg>\n      }\n    </button>\n  )\n}\n\nfunction LevelDisplay({ message, config, moves }) {\n  const canvasRef = useRef(null);\n\n  useEffect(() => {\n    renderSequence(canvasRef.current, config, JSON.parse(JSON.stringify(moves)));\n  }, [canvasRef.current, config, moves])\n\n  return (\n    <div style={{ width: \"100%\" }}>\n      <StatusInfo type=\"alert\" message={message} />\n      <canvas\n        onClick={() => { renderSequence(canvasRef.current, config, JSON.parse(JSON.stringify(moves))); }}\n        ref={canvasRef}\n        id=\"levelDisplayCanvas\"\n        style={{\n          display: \"inline-block\",\n          alignContent: \"flex-end\"\n        }} />\n    </div>\n  )\n}\n\nfunction Levels({ levelsState, updateLevelState }) {\n  const expandedLevelState = levelsState.find(levelState => levelState.isExpanded)\n  return (\n    <div id=\"results\" style={{\n      height: \"100vh\",\n      float: \"left\",\n      width: \"50%\",\n      overflow: \"scroll\",\n    }} className={`${mtheme.levelBg}`}>\n      <div style={{\n        display: \"flex\",\n        flexDirection: \"row\",\n        flexWrap: \"wrap\"\n      }}>\n        {\n          levelsState.map((levelState, i) => {\n            const { success } = levelState;\n            const onToggle = () => {\n              updateLevelState(i);\n            }\n\n            return <LevelToggle\n              key={i + 1}\n              name={i + 1}\n              success={success}\n              onToggle={onToggle} />\n          })\n        }\n      </div>\n      {!!expandedLevelState ? <LevelDisplay key=\"canvas\" {...expandedLevelState} /> : null}\n    </div>\n  )\n}\n\nfunction StatusInfo({ message }) {\n  if (!message) {\n    return null;\n  }\n  return (<div className=\"flex items-center bg-red-500 text-white text-sm font-bold px-4 py-3 my-2\" role=\"alert\">\n    <svg className=\"w-4 h-4 mr-2\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"feather feather-alert-circle\"><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"12\"></line><line x1=\"12\" y1=\"16\" x2=\"12.01\" y2=\"16\"></line></svg>\n    <p className=\"px-2\">{message}</p>\n  </div>)\n}\n\nfunction useSolutionFunc() {\n  const solutionHarness = (answer) => {\n    return (level) => {\n      let result\n      try {\n        result = getMoves(level, answer);\n      } catch (e) {\n        result.message = e.message;\n      }\n      return result;\n    }\n  }\n  const [solutionFunc, _setSolutionFunc] = useState({ solution: null });\n  const setSolutionFunc = (func) => _setSolutionFunc({ solution: solutionHarness(func) });\n  return [solutionFunc.solution, setSolutionFunc];\n}\n\nfunction Header(props) {\n  const [isModalOpen, setModalOpen] = useState(false);\n  const closeModal = () => { setModalOpen(false) }\n  return (\n    <header className={`${mtheme.headerColorBg} content-center`}>\n      <nav className=\"justify-between w-full text-white p-2\">\n        <a href=\"/\"><span className=\"font-semibold text-xl tracking-tight\">JS Hero</span></a>\n        <button className=\"float-right\" onClick={() => { setModalOpen(true) }}>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width={24} height={24} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth={2} strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"feather feather-help-circle\"><circle cx={12} cy={12} r={10} /><path d=\"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3\" /><line x1={12} y1={17} x2=\"12.01\" y2={17} /></svg>\n        </button>\n      </nav>\n      <SimpleModal\n        isModalOpen={isModalOpen}\n        closeModal={closeModal}\n        title=\"What is JS Hero?\"\n        closeButton=\"Gotcha!\"\n      >\n        <p className=\"py-2\" >JS Hero is a coding game to help people practice coding concepts. Navigate the character to the target to win each level.</p>\n        <p>Every level uses the same solution which means players have to build together an algorithm to eventually succeed.</p>\n      </SimpleModal>\n    </header>\n  )\n}\n\nfunction App() {\n  const [failureMessage, setFailureMessage] = useState(null);\n  const [solution, setSolutionFunc] = useSolutionFunc();\n  const [levelsState, setLevelsState] = useState([]);\n  const [modal, setModal] = useState(false);\n  const [languageOptions, setLanguageOptions] = useState([\n    {\n      selected: true,\n      name: \"javascript\"\n    }, {\n      selected: false,\n      name: \"python\"\n    }\n  ]);\n\n  const updateLevelState = (levelClicked) => {\n    let currentLevel = storage.getCurrentLevel();\n    let allSuccess = true;\n    let newLevelsState = [];\n    const toggle_i = typeof levelClicked == \"number\" ? levelClicked : -1;\n    for (var i = 0; i < levels_config.length && i <= currentLevel; i++) {\n      const { moves, message } = toggle_i < 0 || toggle_i == i ? solution(levels_config[i].design) : levelsState[i];\n      const lastAction = moves[moves.length - 1][0];\n      const levelPassed = lastAction.action !== 'die';\n      const newLevelState = {\n        id: \"level-\" + (i + 1),\n        isExpanded: levelsState[i] ? levelsState[i].isExpanded : false,\n        message: failureMessage || message,\n        success: levelPassed,\n        config: levels_config[i],\n        moves: moves\n      }\n\n      if (levelPassed && allSuccess) {\n        currentLevel = Math.max(i + 1, currentLevel);\n      } else {\n        allSuccess = false;\n      }\n\n      if (toggle_i > -1) {\n        newLevelState.isExpanded = toggle_i == i ? !newLevelState.isExpanded : false;\n      }\n\n      newLevelsState.push(newLevelState);\n    }\n\n    storage.setCurrentLevel(currentLevel);\n    setLevelsState(newLevelsState);\n  }\n\n  useEffect(() => {\n    if (solution) {\n      updateLevelState(-1);\n    }\n  }, [solution]);\n\n  function updateSolution(value) {\n    const code = loopProtect(value, 10000, \"Possible infinite loop detected\") + \"\\nwindow.solution = solution\";\n    try {\n      setFailureMessage(null);\n      eval(code);\n      if (!window.solution) {\n        throw new Error(\"Solution function not defined, ensure solution function is valid\");\n      }\n      setSolutionFunc(window.solution);\n    } catch (e) {\n      setFailureMessage(e.message)\n    }\n  }\n\n  return (\n    <div className=\"App\">\n      <Header />\n      <SimpleModal\n        title=\"Patience...\"\n        isModalOpen={modal}\n        closeModal={() => { setModal(false) }}\n        closeButton=\"OK\"\n      >\n        Python is not yet supported.\n\n        Although it is being worked on.\n        </SimpleModal>\n      <div>\n        <Levels\n          levelsState={levelsState}\n          updateLevelState={updateLevelState}\n        />\n        <JsHeroEditor\n          languageOptions={languageOptions}\n          onLanguageSelect={(language) => {\n            if (language == \"python\") {\n              setModal(true)\n            } else {\n              setLanguageOptions(languageOptions.map(option => {\n                return {\n                  name: option.name,\n                  selected: option.name == language\n                }\n              }));\n            }\n          }}\n          onCodeUpdate={updateSolution}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","function LevelError(message) {\n    const error = new Error(message);\n    error.name = \"LevelError\";\n    return error;\n}\n\nexport const getMoves = function (_map, answer) {\n    const map = JSON.parse(JSON.stringify(_map));\n    var north = \"NORTH\", south = \"SOUTH\", east = \"EAST\", west = \"WEST\";\n    var mapThings = {\n        'p': 'PLAYER',\n        'm': 'MONSTER',\n        'r': 'ROCK',\n        'w': 'TARGET',\n        '-': 'NOTHING'\n    }\n    var moves = [];\n    var player = {\n        direction: south\n    }\n\n    for (var y = 0; y < map.length; y++) {\n        for (var x = 0; x < map[y].length; x++) {\n            if (map[y][x].startsWith('p')) {\n                player.x = x;\n                player.y = y;\n            }\n\n            if (map[y][x].startsWith('w')) {\n                player.target_x = x;\n                player.target_y = y;\n            }\n        }\n    }\n\n    if (player.x === undefined || !player.target_x === undefined) {\n        throw LevelError(\"Player or target not found in map\");\n    }\n\n    function check(x, y, type) {\n        if (y >= 0 && y < map.length && x >= 0 && x < map[y].length) {\n            if (map[y][x].startsWith(type)) {\n                return map[y][x];\n            }\n        }\n    }\n\n    function getMonster(x, y) {\n        return check(x - 1, y, 'm') || check(x + 1, y, 'm') || check(x, y - 1, 'm') || check(x, y + 1, 'm');\n    }\n\n    function directionToCoords(direction, x, y) {\n        switch (direction) {\n            case south: return { x: x, y: y + 1 };\n            case east: return { x: x + 1, y: y };\n            case north: return { x: x, y: y - 1 };\n            default: return { x: x - 1, y: y };\n        }\n    }\n\n    function checkValid(moving) {\n        var monster = getMonster(player.x, player.y);\n        if (!!monster) {\n            moves.push([{ id: monster, action: 'attack' }, { id: 'p', action: 'die' }]);\n            moves.push([{ id: monster, action: 'win' }]);\n            throw LevelError(\"Monster killed you!\");\n        }\n\n        var { x, y } = directionToCoords(player.direction, player.x, player.y);\n\n        if (!!moving && !check(x, y, '-')) {\n            moves.push([{ id: 'p', action: 'step_f' }]);\n            if (check(x, y, 'w')) {\n                if (x - 1 === player.x) {\n                    moves.push([{ id: 'w', action: 'turn_r' }]);\n                }\n                if (x + 1 === player.x) {\n                    moves.push([{ id: 'w', action: 'turn_l' }]);\n                }\n                if (y - 1 === player.y) {\n                    moves.push([{ id: 'w', action: 'turn_l' }]);\n                    moves.push([{ id: 'w', action: 'turn_l' }]);\n                }\n                moves.push([{ id: 'w', action: 'attack' }]);\n            }\n            throw LevelError(\"Moving to a place you cannot\");\n        }\n    }\n\n    function left(d) {\n        switch (d) {\n            case south: return east;\n            case east: return north;\n            case north: return west;\n            default: return south;\n        }\n    }\n    function right(d) {\n        switch (d) {\n            case south: return west;\n            case west: return north;\n            case north: return east;\n            default: return south;\n        }\n    }\n\n    player.checkMap = (x, y) => {\n        if (y >= 0 && y < map.length && x >= 0 && x < map[y].length) {\n            var id = map[y][x];\n            var type = id.charAt(0);\n            return mapThings[type] || \"ERROR\";\n        }\n        return \"ERROR\";\n    }\n\n    player.turnLeft = () => {\n        player.direction = left(player.direction);\n        moves.push([{ id: 'p', action: 'turn_l' }]);\n    }\n\n    player.turnRight = () => {\n        player.direction = right(player.direction);\n        moves.push([{ id: 'p', action: 'turn_r' }]);\n    }\n\n    player.step = () => {\n        checkValid(true);\n        var { x, y } = directionToCoords(player.direction, player.x, player.y);\n        map[player.y][player.x] = '-';\n        map[y][x] = 'p';\n        player.x = x;\n        player.y = y;\n        moves.push([{ id: 'p', action: 'step' }]);\n    }\n\n    player.attack = () => {\n        var { x, y } = directionToCoords(player.direction, player.x, player.y);\n        if (player.checkMap(x, y) === 'MONSTER') {\n            moves.push([{ id: 'p', action: 'attack' }, { id: map[y][x], action: 'die' }]);\n            map[y][x] = '-';\n        } else {\n            moves.push([{ id: 'p', action: 'attack' }]);\n        }\n        checkValid();\n    }\n\n    player.check = (_action) => {\n        var action = _action.toUpperCase();\n\n        if (action === 'LEFT') {\n            var { x, y } = directionToCoords(left(player.direction), player.x, player.y);\n            return player.checkMap(x, y);\n        }\n\n        if (action === 'RIGHT') {\n            var { x, y } = directionToCoords(right(player.direction), player.x, player.y);\n            return player.checkMap(x, y);\n        }\n\n        if (action === 'STEP') {\n            var { x, y } = directionToCoords(player.direction, player.x, player.y);\n            return player.checkMap(x, y);\n        }\n\n        return 'ERROR';\n    }\n\n    player.isNextToTarget = () => {\n        var x = player.x, y = player.y;\n        var tx = player.target_x, ty = player.target_y;\n\n        if (((x - 1 === tx) && y === ty)\n            || ((x + 1 === tx) && y === ty)\n            || ((x === tx) && y - 1 === ty)\n            || ((x === tx) && y + 1 === ty)\n        ) {\n            return true;\n        }\n        return false;\n    }\n\n    let message = null;\n    try {\n        answer(player);\n        var x = player.x;\n        var y = player.y;\n        if (check(x - 1, y, 'w') || check(x + 1, y, 'w') || check(x, y + 1, 'w') || check(x, y - 1, 'w')) {\n            moves.push([{ id: 'p', action: 'win' }, { id: 'w', action: 'win' }]);\n        } else {\n            throw LevelError(\"Failed to reach target\");\n        }\n    } catch (e) {\n        message = e.message;\n        // const prefix = prefixMessage || \"\"\n        // if (e.name === 'LevelError') {\n        //     console.log(prefix + \": \" + e.message);\n        // } else if (e instanceof SyntaxError || e instanceof ReferenceError) {\n        //     console.error(e.message, e.stack)\n        // } else {\n        //     throw e;\n        // }\n    }\n    if (moves.length == 0) {\n        moves.push([{ id: 'p', action: 'die' }]);\n    } else {\n        const lastMove = moves[moves.length - 1].find(move => move.id == 'p');\n\n        if (!lastMove || (lastMove.action != 'win' && lastMove.action != 'die')) {\n            moves.push([{ id: 'p', action: 'die' }]);\n        }\n    }\n    return { moves, message };\n}","import { parse, visit, types, print } from \"recast\";\nconst n = types.namedTypes;\nconst b = types.builders;\n\nfunction protect(limit, errorMessage) {\n    return function (path) {\n        if (!path.node.loc) {\n            // I don't really know _how_ we get into this state\n            // but https://jsbin.com/mipesawapi/1/ triggers it\n            // and the node, I'm guessing after translation,\n            // doesn't have a line in the code, so this blows up.\n            return;\n        }\n        const id = `_var${Math.random().toString(36).substring(2, 8)}`;\n        const before = parse(`var ${id} = 0;`).program.body[0];\n        const inside = parse(`${id}++;if(${id} > ${limit}){ throw new Error('${errorMessage}') }`).program.body;\n        const body = path.get('body');\n\n        // if we have an expression statement, convert it to a block\n        if (!n.BlockStatement.check(body.node)) {\n            body.replace(b.blockStatement([body.node]));\n        }\n        path.insertBefore(before);\n        body.node.body.unshift(...inside);\n        this.traverse(path);\n    };\n}\n\nexport const loopProtect = (code, limit, errorMessage) => {\n    const t = parse(code);\n\n    visit(t, {\n        visitWhileStatement: protect(limit, errorMessage),\n        visitForStatement: protect(limit, errorMessage),\n        visitDoWhileStatement: protect(limit, errorMessage),\n        visitForInStatement: protect(limit, errorMessage),\n        visitForOfStatement: protect(limit, errorMessage)\n    })\n\n    return print(t).code;\n};\n\nexport default loopProtect;"],"sourceRoot":""}